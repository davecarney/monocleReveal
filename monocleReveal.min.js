/*
* monocleReveal() v 2.0
*
* Copyright 2017
*
* By Dave Carney, http://www.fallingmonocle.com
* Mimics hover functionality for nested, hidden elements on touchscreens
* Available for use under the MIT License
*
* Functions as a class switcher
* Assign --> .monocle-target { display: none; }
*
* Instead of using pseudo-classes --> .example_element:hover { display: whatever; }
* Use --> .example_element > .monocle-active { display: whatever; }
*
* Must place .monocle-anchor on the containing element
* Must place .monocle-target on the element you want hidden/revealed
*/
!function(s){s.fn.monocleReveal=function(){function t(){h.each(function(){this.anchor=s(this),this.hiddenItem=s(this).find(".monocle-target:first"),this.active=!1,this.allowClickThrough=!1,this.siblingAnchors=s(this).siblings(".monocle-anchor"),this.childAnchors=s(this).find(".monocle-anchor"),s(this).parents(".monocle-anchor").length?this.noParent=!1:this.noParent=!0,this.reveal=function(){this.activeItemCheck(),this.active=!0,this.hiddenItem.addClass("monocle-active"),e()},this.conceal=function(){this.active=!1,this.allowClickThrough=!1,this.hiddenItem.removeClass("monocle-active"),this.childAnchors.each(function(){this.active=!1,this.allowClickThrough=!1,this.hiddenItem.removeClass("monocle-active")})},this.activeItemCheck=function(){this.noParent?o():this.siblingAnchors.each(function(){this.active&&this.conceal()})}})}function o(){h.each(function(){this.active=!1,this.allowClickThrough=!1,this.hiddenItem.removeClass("monocle-active")}),n()}function i(t){c.push(setTimeout(function(){t.active&&(t.allowClickThrough=!0)},500))}function e(){s(document).on("click.outside touchstart.outside onpointerdown.outside",function(t){s(t.target).closest(".monocle-anchor").length||o()}),s(document).on("mousemove.outside",function(t){s(t.target).closest(".monocle-anchor").length||o()})}function n(){s(document).off("click.outside touchstart.outside onpointerdown.outside"),s(document).off("mousemove.outside")}var c=[],h=this;t(),s(h).on("click",function(t){this.allowClickThrough||(t.stopPropagation(),t.preventDefault(),i(this)),this.active||this.reveal()}),s(h).on("mouseenter",function(){this.allowClickThrough||i(this),this.active||this.reveal()})},s(".monocle-anchor").monocleReveal()}(jQuery);